<!DOCTYPE html>
<html lang="ko">

<head>
    @@include('@@webRoot/_include/_head.html')
</head>

<body>
    <div id="wrap">
        @@include('@@webRoot/_include/_header.html')
        <div class="content">
            @@include('@@webRoot/_include/_aside.html')
            <div class="sub-content">
                <div class="head-content">
                    <p class="main-title">레이어 그룹관리 – 상세/수정</p>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item">
                                <a href="#"><i class="icon-home"></i></a>
                            </li>
                            <li class="breadcrumb-item"><a href="#">권한관리</a></li>
                            <li class="breadcrumb-item active" aria-current="page">레이어그룹관리</li>
                        </ol>
                    </nav>
                </div>
                <div class="card-wrap">
                    <p class="table-title">레이어 그룹정보</p>
                    <div class="table-wrap">
                        <table class="table table-row">
                            <colgroup>
                                <col width="290px" />
                                <col width="500px" />
                                <col width="290px" />
                                <col />
                            </colgroup>
                            <tbody>
                                <tr>
                                    <th scope="row">공개여부</th>
                                    <td>
                                        <div class="custom-select" style="width: 160px">
                                            <select name="" id="" class="form-select">
                                                <option value="">공개</option>
                                                <option value=""></option>
                                            </select>
                                        </div>
                                    </td>
                                    <th scope="row">구분</th>
                                    <td>
                                        <div class="custom-select" style="width: 160px">
                                            <select name="" id="" class="form-select">
                                                <option value="">2D</option>
                                                <option value=""></option>
                                            </select>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">레이어그룹명</th>
                                    <td colspan="3"><input type="text" class="form-control" style="" placeholder=""
                                            value="시군구 경계" /></td>
                                </tr>
                                <tr>
                                    <th scope="row">레이어그룹 설명</th>
                                    <td colspan="3"><input type="text" class="form-control" style="" placeholder=""
                                            value="시군구 경계" /></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="main-content">
                    <p class="table-title mb-20">레이어 목록</p>
                    <div class="table-head">
                        <p>전체 <span class="text-green">6384</span> 건</p>
                        <div class="btn-group justify-content-center">
                            <button type="button" class="btn btn-min btn-auto btn-outline-gray btn-md"
                                data-bs-toggle="modal" data-bs-target="#modal-layer-list">레이어 추가</button>
                            <button type="button" class="btn btn-min btn-auto btn-green btn-md">저장</button>
                            <button type="button" class="btn btn-min btn-auto btn-outline-green btn-md">목록</button>
                        </div>
                    </div>
                    <div class="table-mode user">
                        <div class="table-head">
                            <div class="table-head__tr width-8">유형구분</div>
                            <div class="table-head__tr width-8">형태구분</div>
                            <div class="table-head__tr width-8">소유구분</div>
                            <div class="table-head__tr width-35">레이어명</div>
                            <div class="table-head__tr width-35">좌표계</div>
                            <div class="table-head__tr width-10">삭제</div>
                        </div>
                        <div class="table-body">
                            <div class="table-body__row">
                                <div class="table-body__td width-8">면</div>
                                <div class="table-body__td width-8">TMS (GoogleMapType)</div>
                                <div class="table-body__td width-8">사용자</div>
                                <div class="table-body__td width-35">(연속주제)_항만과그주변지역/항만재
                                    개발사업구역_전체분</div>
                                <div class="table-body__td width-35">[[GRS80] TM중부 falseY: 60만
                                    (EPSG:5186)</div>
                                <div class="table-body__td width-10">
                                    <button type="button" class="btns-sign"><i class="icon-minus"></i></button>
                                </div>
                            </div>
                            <div class="table-body__row">
                                <div class="table-body__td width-8">면</div>
                                <div class="table-body__td width-8">WMS</div>
                                <div class="table-body__td width-8">사용자</div>
                                <div class="table-body__td width-35">(연속주제)_항만과그주변지역/항만재
                                    개발사업구역_전체분</div>
                                <div class="table-body__td width-35">[[GRS80] TM중부 falseY: 60만
                                    (EPSG:5186)</div>
                                <div class="table-body__td width-10">
                                    <button type="button" class="btns-sign"><i class="icon-minus"></i></button>
                                </div>
                            </div>
                            <div class="table-body__row">
                                <div class="table-body__td width-8">면</div>
                                <div class="table-body__td width-8">WMS</div>
                                <div class="table-body__td width-8">사용자</div>
                                <div class="table-body__td width-35">(연속주제)_항만과그주변지역/항만재
                                    개발사업구역_전체분</div>
                                <div class="table-body__td width-35">[[GRS80] TM중부 falseY: 60만
                                    (EPSG:5186)</div>
                                <div class="table-body__td width-10">
                                    <button type="button" class="btns-sign"><i class="icon-minus"></i></button>
                                </div>
                            </div>
                            <div class="table-body__row">
                                <div class="table-body__td width-8">면</div>
                                <div class="table-body__td width-8">WMS</div>
                                <div class="table-body__td width-8">사용자</div>
                                <div class="table-body__td width-35">(연속주제)_항만과그주변지역/항만재
                                    개발사업구역_전체분</div>
                                <div class="table-body__td width-35">[[GRS80] TM중부 falseY: 60만
                                    (EPSG:5186)</div>
                                <div class="table-body__td width-10">
                                    <button type="button" class="btns-sign"><i class="icon-minus"></i></button>
                                </div>
                            </div>
                            <div class="table-body__row">
                                <div class="table-body__td width-8">면</div>
                                <div class="table-body__td width-8">WMS</div>
                                <div class="table-body__td width-8">사용자</div>
                                <div class="table-body__td width-35">(연속주제)_항만과그주변지역/항만재
                                    개발사업구역_전체분</div>
                                <div class="table-body__td width-35">[[GRS80] TM중부 falseY: 60만
                                    (EPSG:5186)</div>
                                <div class="table-body__td width-10">
                                    <button type="button" class="btns-sign"><i class="icon-minus"></i></button>
                                </div>
                            </div>
                            <div class="table-body__row">
                                <div class="table-body__td width-8">면</div>
                                <div class="table-body__td width-8">WMS</div>
                                <div class="table-body__td width-8">사용자</div>
                                <div class="table-body__td width-35">(연속주제)_항만과그주변지역/항만재
                                    개발사업구역_전체분</div>
                                <div class="table-body__td width-35">[[GRS80] TM중부 falseY: 60만
                                    (EPSG:5186)</div>
                                <div class="table-body__td width-10">
                                    <button type="button" class="btns-sign"><i class="icon-minus"></i></button>
                                </div>
                            </div>

                            <!-- <div class="table-body__row none-data">
                                <div>
                                    사용자를 추가해주세요
                                </div>
                            </div> -->
                        </div>
                    </div>
                    <div class="btn-group justify-content-center">
                        <button type="button" class="btn btn-min btn-auto btn-green btn-md">저장</button>
                        <button type="button" class="btn btn-min btn-auto btn-outline-gray btn-md">목록</button>
                    </div>
                    @@include('@@webRoot/_include/_footer.html')
                </div>
            </div>
        </div>
    </div>

    <script>
        class CompanyLogoRenderer {
            eGui;

            init(params) {
                let companyLogo = document.createElement("img");
                companyLogo.src =
                    `https://www.google.com/imgres?imgurl=https%3A%2F%2Fplay-lh.googleusercontent.com%2F54F20A0lQVsJ5J21JxMjnwZLU7uvQSIIXk1p1S5kFi-7YnNh6J9YKAUW4xfExSglsxU%3Dw240-h480-rw&tbnid=_i5PJITUzAb42M&vet=12ahUKEwjzqYOd8IKEAxV70DQHHXOyDpIQMygDegQIARBb..i&imgrefurl=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.vertaler.koja%26hl%3Dko&docid=VR8lMSDGhOfVDM&w=240&h=240&q=%EB%B2%88%EC%97%AD%EA%B8%B0%20%EC%9D%BC%EB%B3%B8%EC%96%B4&ved=2ahUKEwjzqYOd8IKEAxV70DQHHXOyDpIQMygDegQIARBb`;
                companyLogo.setAttribute("style",
                    "display: block; width: 25px; height: auto; max-height: 50%; margin-right: 12px; filter: brightness(1.1)"
                );

                let companyName = document.createElement("p");
                companyName.textContent = params.value;
                companyName.setAttribute("style",
                    "text-overflow: ellipsis; overflow: hidden; white-space: nowrap;");

                this.eGui = document.createElement("span");
                this.eGui.setAttribute("style", "display: flex; height: 100%; width: 100%; align-items: center");
                this.eGui.appendChild(companyLogo);
                this.eGui.appendChild(companyName);
            }

            getGui() {
                return this.eGui;
            }

            refresh(params) {
                return false;
            }
        }

        const cellVertical = {
            "vertical-align": "middle"
        };
        const rowData = [{
            user: "면",
            code: "WMS",
            name: "사용자",
            id: "(연속주제)_항만과그주변지역/항만재 개발사업구역_전체분",
            region: "[[GRS80] TM중부 falseY: 60만 (EPSG:5186)",
            status: "",
        }];

        const columnDefs = [{
                field: "user",
                headerName: "유형구분"
            },
            {
                field: "code",
                headerName: "형태구분"
            },
            {
                field: "name",
                headerName: "소유구분"
            },
            {
                field: "id",
                headerName: "레이어명"
            },
            {
                field: "region",
                headerName: "좌표계"
            },
            {
                field: "date",
                headerName: "삭제"
            },
        ];

        const gridOptions = {
            domLayout: "autoHeight",
            rowData: rowData,
            columnDefs: columnDefs,
            autoSizeStrategy: {
                type: "fitGridWidth"
            },
            rowSelection: "multiple",
            defaultColDef: {
                editable: false,
                filter: true,
            },
            frameworkComponents: {
                CompanyLogoRenderer: CompanyLogoRenderer,
            },
        };
        $(document).ready(function () {
            $('.btns-sign').on('click', function () {
                $(this).closest('.table-body__row').remove();
            });
        });
        const gridDiv = document.querySelector("#myGrid");
        const gridApi = agGrid.createGrid(gridDiv, gridOptions);
    </script>
    @@include('@@webRoot/_include/_modal.html')
</body>

</html>